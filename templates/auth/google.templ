package auth

templ google(googleClientID, googleVerifyEndpoint string) {
	if googleClientID != "" {
		<script src="https://accounts.google.com/gsi/client" async></script>
		<script>
    function handleGoogleCredentials({ credential: token }) {
      const form = document.createElement("form");
      form.method = "POST";
      form.action = {{ googleVerifyEndpoint }};

      const input = document.createElement("input");
      input.type = "hidden";
      input.name = "token";
      input.value = token;

      form.appendChild(input);
      document.body.appendChild(form);
      form.submit();
    }
    </script>
		<div
			id="g_id_onload"
			data-auto_prompt="false"
			data-callback="handleGoogleCredentials"
			data-client_id={ googleClientID }
		></div>
		<div
			class="g_id_signin"
			data-theme="filled_black"
			data-size="large"
			data-shape="pill"
		></div>
	}
}
